# Визуализатор графа зависимостей Cargo

## 1. Общее описание

CLI-инструмент для анализа зависимостей пакетов Rust из реестра crates.io.
На втором этапе реализована основная функциональность: программа по имени пакета и ссылке на crates.io скачивает соответствующий `.crate`‑архив, извлекает из него `Cargo.toml` и выводит на экран список прямых зависимостей пакета.

---

## 2. Описание функций и настроек

Программа настраивается через следующие опции командной строки:

-   `--package <ИМЯ>`: **(Обязательный)** Имя анализируемого пакета.
-   `--repo-url <URL>`: **(Обязательный)** URL пакета на crates.io в формате `https://crates.io/crates/<имя_пакета>`.
-   `--test-mode`: Флаг тестового режима, который будет использоваться на следующем этапе для работы с локальным тестовым файлом вместо crates.io.
-   `--ascii-tree`: Флаг, который на будущих этапах будет включать вывод графа в виде ASCII-дерева.
-   `--filter <ПОДСТРОКА>`: Подстрока для фильтрации пакетов при выводе (на этапе 2 не используется).
-   `-h`, `--help`: Показывает справочное сообщение со всеми доступными параметрами.

---

## 3. Команды для сборки и запуска

Проект написан на Python и не требует предварительной сборки. Для запуска используется интерпретатор Python.

### Основная команда для запуска:
```
python main.py [ПАРАМЕТРЫ]
```

---

## 4. Примеры использования

### Основной сценарий (анализ пакета с crates.io)

Анализ пакета `serde` по ссылке из crates.io.

Команда:
```
python main.py --package serde --repo-url https://crates.io/crates/serde
```

Результат:
```
serde_core
serde_derive
```

### Обработка ошибок

Пример вызова с неправильным URL (не crates.io):

Команда:
```
python main.py --package serde --repo-url https://github.com/serde-rs/serde
```

Результат:
```
Ошибки валидации:
  - Ссылка должна быть вида https://crates.io/crates/<имя_пакета>
```

Пример вызова с несовпадением имени пакета и имени в URL:

Команда:
```
python main.py --package serde --repo-url https://crates.io/crates/serde_json
```

Результат:
```
Ошибки валидации:
  - Имя пакета в URL (serde_json) не совпадает с --package (serde)
```

Пример вызова с несовпадением имени пакета и имени в URL:

Команда:
```
python main.py --package non-existent-package --repo-url https://crates.io/crates/non-existent-package
```

Результат:
```
Не удалось получить информацию о крейте non-existent-package: HTTP Error 404: Not Found
```