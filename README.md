# Визуализатор графа зависимостей Cargo

## 1. Общее описание

CLI-инструмент, который строит граф зависимостей пакета Rust (формат Cargo). На третьем этапе реализовано: построение полного графа зависимостей (с учётом транзитивности) итеративным DFS (без рекурсии), корректная обработка циклических зависимостей, поддержка тестового режима (файл-описание графа или локальная директория), фильтрация пакетов.

---

## 2. Описание функций и настроек

Программа настраивается через следующие опции командной строки:

-   `--package <ИМЯ>`: **(Обязательный)** Имя анализируемого пакета.
-   `--repo-url <URL>`: **(Обязательный)** URL-адрес репозитория пакета или путь к файлу/директории в тестовом режиме.
-   `--test-mode`: Флаг, включающий режим работы с тестовым репозиторием или с файлом-описанием графа.
-   `--ascii-tree`: Флаг, который на будущих этапах будет включать вывод графа в виде ASCII-дерева.
-   `--filter <ПОДСТРОКА>`: Задает подстроку для фильтрации пакетов.
-   `-h`, `--help`: Показывает справочное сообщение со всеми доступными параметрами.

В тестовом режиме можно использовать текстовый файл для описания графа зависимостей. Формат файла:

- Каждая строка описывает один пакет и его зависимости
- Синтаксис: `ПАКЕТ: ЗАВИСИМОСТЬ1 ЗАВИСИМОСТЬ2 ...`
- Пакеты обозначаются заглавными латинскими буквами
- Зависимости разделяются пробелами

---

## 3. Команды для сборки и запуска

Проект написан на Python и не требует предварительной сборки. Для запуска используется интерпретатор Python.

### Основная команда для запуска:
```
python main.py [ПАРАМЕТРЫ]
```

---

## 4. Примеры использования

### Анализ удаленного репозитория

Анализ пакета `serde` из его официального репозитория на GitHub.

Команда:
```
python main.py --package serde --repo-url https://github.com/serde-rs/serde
```

Результат:
```
Граф зависимостей для пакета 'serde':
  proc-macro2
  quote
  serde -> serde_core, serde_derive
  serde_core
  serde_derive -> proc-macro2, quote, syn
  syn
```

### Тестовый граф с циклами и фильтрацией

Демонстрация обработки циклических зависимостей и фильтрации пакетов. Файл `graph.txt`:
```
A: B C X
B: D E
C: E
D: F
E: B F
```

Команда:
```
python main.py --package A --repo-url graph.txt --test-mode --filter X
```

Результат:
```
Обнаружены циклические зависимости:
  B -> E (цикл)

Граф зависимостей для пакета 'A':
  A -> B, C
  B -> D, E
  C -> E
  D -> F
  E -> B, F
  F

(Пакеты, содержащие 'X', исключены)
```